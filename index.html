<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Thông báo hệ thống</title>
  <style>
    :root{--bg:#0b0f15;--card:#0f1720;--accent:#ff3b30;--muted:#b7c0cc}
    html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,#000814 0%, #071028 100%);color:#eef2f7}
    .center{height:100%;display:flex;align-items:center;justify-content:center;padding:20px}
    .card{background:radial-gradient(ellipse at top left, rgba(255,255,255,0.03), transparent 30%),var(--card);width:880px;max-width:96%;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,0.7);overflow:hidden}
    .header{display:flex;gap:16px;align-items:center;padding:28px;border-bottom:1px solid rgba(255,255,255,0.03)}
    .dot{width:14px;height:14px;border-radius:50%;background:var(--accent);box-shadow:0 0 18px rgba(255,59,48,0.5)}
    h1{margin:0;font-size:20px}
    .sub{color:var(--muted);font-size:13px}

    .body{padding:28px}
    .big{font-size:34px;line-height:1.05;margin:0 0 6px}
    .muted{color:var(--muted);margin-bottom:18px}

    .progressWrap{background:rgba(255,255,255,0.04);border-radius:10px;padding:12px;margin:18px 0}
    .bar{height:18px;background:linear-gradient(90deg,#ff5b4a,#ffba00);border-radius:8px;width:0%;transition:width 400ms ease}
    .controls{display:flex;gap:12px}
    button{padding:10px 14px;border-radius:8px;border:0;cursor:pointer;font-weight:600}
    .btn-primary{background:var(--accent);color:white}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    .footer{padding:18px;border-top:1px solid rgba(255,255,255,0.03);display:flex;justify-content:space-between;align-items:center}
    .small{font-size:12px;color:var(--muted)}

    /* full-screen scary overlay */
    .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.85);backdrop-filter:blur(2px);z-index:9999}
    .overlay h2{color:#fff;margin:0 0 8px}
    .overlay p{color:#ffd7d2;margin:0 0 16px}

    @media(max-width:520px){.big{font-size:26px}}
  </style>
</head>
<body>
  <div class="center">
    <div class="card" role="dialog" aria-labelledby="title">
      <div class="header">
        <div class="dot" aria-hidden></div>
        <div>
          <h1 id="title">Cảnh báo an ninh hệ thống</h1>
          <div class="sub">Windows Security • 1 threat detected</div>
        </div>
      </div>
      <div class="body">
        <p class="big">Máy tính của bạn đã bị nhiễm virus!</p>
        <p class="muted">Các tệp quan trọng có thể bị mất. Hệ thống yêu cầu quét ngay lập tức để ngăn chặn thiệt hại.</p>

        <div class="progressWrap" aria-hidden>
          <div id="progressLabel" class="small">Quét mối đe dọa: 0%</div>
          <div style="height:8px;background:rgba(255,255,255,0.03);border-radius:8px;margin-top:10px;overflow:hidden">
            <div class="bar" id="bar"></div>
          </div>
        </div>

        <div class="controls">
          <button id="start" class="btn-primary">Bắt đầu quét</button>
          <button id="panic" class="btn-ghost">Đóng</button>
        </div>

        <div style="margin-top:16px;color:var(--muted);font-size:13px">Mã sự cố: <strong>VIRUS-2025-XX</strong></div>
      </div>

      <div class="footer">
        <div class="small">Hệ điều hành: Windows 10/11 giả lập</div>
        <div class="small">Phiên bản cảnh báo 1.0</div>
      </div>
    </div>
  </div>

  <div id="overlay" class="overlay" style="display:none">
    <div style="max-width:820px;text-align:center;padding:22px">
      <h2>KẾT LUẬN: NGHIÊM TRỌNG</h2>
      <p>Hệ thống phát hiện nhiều mối đe dọa. Tắt tất cả chương trình và liên hệ quản trị viên.</p>
      <p style="font-weight:700;color:#fff;margin-top:14px">Chỉ là trò đùa — không có virus thực sự.</p>
      <div style="margin-top:18px"><button id="ok" class="btn-primary">Tôi đã hiểu</button></div>
    </div>
  </div>

  <script>
    const bar = document.getElementById('bar');
    const label = document.getElementById('progressLabel');
    const start = document.getElementById('start');
    const panic = document.getElementById('panic');
    const overlay = document.getElementById('overlay');
    const ok = document.getElementById('ok');

    function beep(times=1){
      try{
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        let t = 0;
        for(let i=0;i<times;i++){
          const o = ctx.createOscillator();
          const g = ctx.createGain();
          o.type = 'sawtooth';
          o.frequency.value = 440 + i*80;
          o.connect(g); g.connect(ctx.destination);
          g.gain.setValueAtTime(0.0001, ctx.currentTime);
          g.gain.exponentialRampToValueAtTime(0.2, ctx.currentTime + 0.01);
          o.start(ctx.currentTime + t);
          o.stop(ctx.currentTime + t + 0.18);
          t += 0.18;
        }
      }catch(e){/* audio not supported */}
    }

    function fakeScan(){
      start.disabled = true;
      let percent = 0;
      beep(2);
      const iv = setInterval(()=>{
        percent += Math.floor(Math.random()*8)+5;
        if(percent>98) percent = 98;
        bar.style.width = percent + '%';
        label.textContent = 'Quét mối đe dọa: ' + percent + '%';
      },400);
      // finish after a randomized short time
      setTimeout(()=>{
        clearInterval(iv);
        bar.style.width = '100%';
        label.textContent = 'Quét hoàn tất: 100%';
        beep(3);
        // show overlay with conclusion
        setTimeout(()=>{overlay.style.display='flex';},600);
      }, 3500 + Math.floor(Math.random()*3200));
    }

    start.addEventListener('click', ()=>{
      fakeScan();
    });

    panic.addEventListener('click', ()=>{
      // gentle close behavior: reveal the disclaimer overlay instead of forcing window close
      overlay.style.display='flex';
      beep(1);
    });

    ok.addEventListener('click', ()=>{
      overlay.style.display='none';
      // reveal harmless closing message
      alert('Đã: Chỉ là trò đùa — đừng lo lắng!');
    });

    // allow pressing Escape to reveal the disclaimer
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') overlay.style.display = 'flex';
    });
  </script>
</body>
</html>
